!function(e){"use strict";const t=["string","number","boolean","array","object"],r=function(e){let r;if(Array.isArray(e))r="array";else if(o=e,"[object object]"===Object.prototype.toString.call(o).toLowerCase())r=e.hasOwnProperty("type")?Array.isArray(e.type)?"mixed":e.type:"object";else{const o=typeof e;r="string"===o?-1===t.indexOf(e)?o:e:o}var o;return r},o=function(e,t,r){let o=!1;return Array.isArray(e)?(e.push(r),o=!0):e.hasOwnProperty(t)||(e[t]=r,o=!0),o};function s(e){this.schema=Object.assign({},e),this.missings={required:[],optional:[]},this.different={},this.errors=[],this.compiled={}}const n=s.prototype;n.validate=function(e){const t=this.schema,n=this;let i=!0;return Object.keys(t).forEach(function(c){const a=t[c],l=r(a);if(e.hasOwnProperty(c)){const t=e[c],p=r(t);switch(l){case"string":"object"===a?(o(n.errors,null,'Is not possible set the type "object" in "simple way".'),i=!1):"string"!==p?o(n.different,c,{current:p,expected:"string",value:t}):o(n.compiled,c,t);break;case"array":l!==p?(a.required&&(i=!1),o(n.different,c,{current:p,expected:"array",value:t})):o(n.compiled,c,t);break;case"object":if(a.hasOwnProperty("type"))if("object"===p)if(a.hasOwnProperty("properties")){const e=new s(a.properties);e.validate(t)||(i=!1),function(e,t,r){let o,s;["missings","errors"].forEach(function(r){(o=t[r]).length&&(e[r]=e[r].concat(o))}),["different","compiled"].forEach(function(o){s=t[o],Object.keys(s).length&&(e[o].hasOwnProperty(r)||(e[o][r]={}),e[o][r]=s)})}(n,e,c)}else o(n.errors,null,'Dont exists the property "properties" in the object.'),a.required&&(i=!1);else a.required&&(i=!1,o(n.different,c,{current:p,expected:l,value:t}));else o(n.errors,null,'Is the value of a property is a object have to create the property "type".'),i=!1;break;case"mixed":const e=a.type;if(-1!==e.indexOf("object"))o(n.errors,null,'Is not possible set the type "object" in a property of mixed types.'),i=!1;else{!e.filter(function(e){return e===p}).length&&a.required&&(i=!1,o(n.different,c,{current:p,expected:e,value:t}))}break;default:console.log("es cualquiera otra cosa")}}else{let e;a.required?(i=!1,e=n.missings.required):e=n.missings.optional,o(e,null,c),a.default&&(n.compiled[c]=a.default)}}),i},n.compile=function(){return this.compiled},n.extend=function(){},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=s),exports.Schema=s):e.Schema=s}(window);